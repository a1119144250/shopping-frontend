<!--pages/index/index.wxml-->
<view class="container">
  <!-- 搜索栏 -->
  <view class="search-bar">
    <view class="search-input" bindtap="onSearchTap">
      <icon class="search-icon" type="search" size="16"></icon>
      <text class="search-placeholder">搜索商品</text>
    </view>
  </view>

  <!-- 轮播图 -->
  <view class="banner-section">
    <swiper class="banner-swiper" indicator-dots="{{true}}" autoplay="{{true}}" interval="3000" duration="500">
      <block wx:for="{{banners}}" wx:key="id">
        <swiper-item>
          <image class="banner-image" src="{{item.image}}" mode="aspectFill" bindtap="onBannerTap" data-url="{{item.url}}"></image>
        </swiper-item>
      </block>
    </swiper>
  </view>

  <!-- 分类导航 -->
  <view class="category-nav">
    <view class="nav-title">商品分类</view>
    <scroll-view class="nav-scroll" scroll-x="{{true}}">
      <view class="nav-list">
        <block wx:for="{{categories}}" wx:key="id">
          <view class="nav-item" bindtap="onCategoryTap" data-id="{{item.id}}">
            <image class="nav-icon" src="{{item.icon}}" mode="aspectFit"></image>
            <text class="nav-text">{{item.name}}</text>
          </view>
        </block>
      </view>
    </scroll-view>
  </view>

  <!-- 推荐商品 -->
  <view class="recommend-section">
    <view class="section-title">
      <text class="title-text">推荐商品</text>
      <text class="title-more" bindtap="onMoreTap">更多 ></text>
    </view>
    <view class="product-grid">
      <block wx:for="{{recommendProducts}}" wx:key="id">
        <product-card product="{{item}}" bind:addtocart="onAddToCart" bind:productclick="onProductClick"></product-card>
      </block>
    </view>
  </view>

  <!-- 热销商品 -->
  <view class="hot-section">
    <view class="section-title">
      <text class="title-text">热销商品</text>
      <text class="title-more" bindtap="onMoreTap">更多 ></text>
    </view>
    <view class="product-grid">
      <block wx:for="{{hotProducts}}" wx:key="id">
        <product-card product="{{item}}" bind:addtocart="onAddToCart" bind:productclick="onProductClick"></product-card>
      </block>
    </view>
  </view>
</view>

<!-- 购物车悬浮按钮 -->
<cart-float bind:carttap="onCartTap"></cart-float>

<!-- 加载更多 -->
<view class="loading" wx:if="{{loading}}">
  <text>加载中...</text>
</view>
